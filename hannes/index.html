<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>untitled</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Hannes">
	
	<script type="text/javascript" src="raphael-min.js"></script>
	
	<script type="text/javascript" src="gui.js"></script>
	<script type="text/javascript" src="ingredient.tomato.js"></script>
	<script type="text/javascript" src="ingredient.onion.js"></script>
	<script type="text/javascript" src="ingredient.stripe.js"></script>
	
	<style type="text/css">
		
		.stripe {
			stroke-width: 0;
			fill:   #008BD2;
		}
		
		
		
		
	</style>
	
	<script>
	
		window.onload = function(){
			
			var paper = Raphael(0,0,"100%", "100%");
			var gui = new Gui(paper);
			
			var center_x = 300;
			var center_y = 100;
			var selection = gui.createSelection(center_x, center_y);
			
			var tomato = gui.createIngredient(Gui.INGREDIENT_TOMATO, 12, 120);
			tomato.lookAt(center_x, center_y, true);
			
			var tomato = gui.createIngredient(Gui.INGREDIENT_TOMATO, 102, 220);
			tomato.lookAt(center_x, center_y, true);
			
			var onion = gui.createIngredient(Gui.INGREDIENT_ONION, 402, 320);
			onion.lookAt(center_x, center_y, true);
			
			var onion = gui.createIngredient(Gui.INGREDIENT_ONION, 302, 400);
			onion.lookAt(center_x, center_y, false);
			
			var stripe = gui.createIngredient(Gui.INGREDIENT_STRIPE, 102, 400);
			stripe.lookAt(center_x, center_y, false);
			
			
			var drag = function(target){
				//console.log("drag: "+target.id);
				
				var ingredients = gui.getIngredients();
				for(i in ingredients){
					var ingredient = ingredients[i];
					if(ingredient.id != target.id){
						ingredient.lookAt(target.x, target.y, true);
					}
				}
			};
			gui.addEventListerner(Gui.eventTypeDrag, drag);
			
			var drop = function(target){
				//console.log("drop: "+target.id);
				
				var ingredients = gui.getIngredients();
				for(i in ingredients){
					var ingredient = ingredients[i];
					ingredient.lookAt(selection.attr("x"), selection.attr("y"), true);
				}
			};
			gui.addEventListerner(Gui.eventTypeDrop, drop);
			
		}
	
	</script>
	
</head>
<body>


</body>
</html>
